{"ast":null,"code":"var _jsxFileName = \"D:\\\\BaitapUIT\\\\Mat_Ma_Hoc\\\\new_final_project_clone\\\\quantum-e-commerce\\\\FE\\\\src\\\\components\\\\Order\\\\OrderList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport OrderCard from './OrderCard';\nimport { ORDER_STATUS } from '../../utils/constants';\nimport orderService from '../../services/orderService';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderList = () => {\n  _s();\n  var _tabs$find;\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('all');\n  const tabs = [{\n    key: 'all',\n    label: 'Tất cả'\n  }, {\n    key: ORDER_STATUS.PENDING,\n    label: 'Chờ xác nhận'\n  }, {\n    key: ORDER_STATUS.CONFIRMED,\n    label: 'Đã xác nhận'\n  }, {\n    key: ORDER_STATUS.SHIPPING,\n    label: 'Đang giao'\n  }, {\n    key: ORDER_STATUS.DELIVERED,\n    label: 'Hoàn thành'\n  }, {\n    key: ORDER_STATUS.CANCELLED,\n    label: 'Đã hủy'\n  }];\n  useEffect(() => {\n    fetchOrders();\n  }, [activeTab]);\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      const params = activeTab !== 'all' ? {\n        status: activeTab\n      } : {};\n      const response = await orderService.getOrders(params);\n      if (response.success) {\n        setOrders(response.data.results || response.data);\n      }\n    } catch (error) {\n      toast.error('Không thể tải danh sách đơn hàng');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleOrderAction = async (action, order) => {\n    try {\n      switch (action) {\n        case 'cancel':\n          await orderService.cancelOrder(order.id, 'Người dùng hủy');\n          toast.success('Đã hủy đơn hàng');\n          break;\n        case 'confirm_received':\n          await orderService.completeOrder(order.id);\n          toast.success('Đã xác nhận nhận hàng');\n          break;\n        case 'review':\n          // TODO: Navigate to review page\n          break;\n        default:\n          break;\n      }\n      fetchOrders(); // Refresh list\n    } catch (error) {\n      toast.error('Có lỗi xảy ra');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: \"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex border-b\",\n        children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(tab.key),\n          className: `flex-1 py-4 px-6 text-center font-medium transition-colors ${activeTab === tab.key ? 'text-primary border-b-2 border-primary bg-blue-50' : 'text-gray-600 hover:text-gray-800'}`,\n          children: tab.label\n        }, tab.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6 animate-pulse\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-4 bg-gray-200 rounded w-1/4 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-16 bg-gray-200 rounded mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-4 bg-gray-200 rounded w-1/3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-400 text-lg mb-4\",\n        children: activeTab === 'all' ? 'Chưa có đơn hàng nào' : `Chưa có đơn hàng ${(_tabs$find = tabs.find(t => t.key === activeTab)) === null || _tabs$find === void 0 ? void 0 : _tabs$find.label.toLowerCase()}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.href = '/',\n        className: \"btn-primary\",\n        children: \"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: orders.map(order => /*#__PURE__*/_jsxDEV(OrderCard, {\n        order: order,\n        onAction: handleOrderAction\n      }, order.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderList, \"u89BVurg45QIBuR/F2Qikx3pMJI=\");\n_c = OrderList;\nexport default OrderList;\nvar _c;\n$RefreshReg$(_c, \"OrderList\");","map":{"version":3,"names":["React","useState","useEffect","OrderCard","ORDER_STATUS","orderService","toast","jsxDEV","_jsxDEV","OrderList","_s","_tabs$find","orders","setOrders","loading","setLoading","activeTab","setActiveTab","tabs","key","label","PENDING","CONFIRMED","SHIPPING","DELIVERED","CANCELLED","fetchOrders","params","status","response","getOrders","success","data","results","error","handleOrderAction","action","order","cancelOrder","id","completeOrder","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","tab","onClick","Array","_","i","length","find","t","toLowerCase","window","location","href","onAction","_c","$RefreshReg$"],"sources":["D:/BaitapUIT/Mat_Ma_Hoc/new_final_project_clone/quantum-e-commerce/FE/src/components/Order/OrderList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport OrderCard from './OrderCard';\r\nimport { ORDER_STATUS } from '../../utils/constants';\r\nimport orderService from '../../services/orderService';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst OrderList = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('all');\r\n\r\n  const tabs = [\r\n    { key: 'all', label: 'Tất cả' },\r\n    { key: ORDER_STATUS.PENDING, label: 'Chờ xác nhận' },\r\n    { key: ORDER_STATUS.CONFIRMED, label: 'Đã xác nhận' },\r\n    { key: ORDER_STATUS.SHIPPING, label: 'Đang giao' },\r\n    { key: ORDER_STATUS.DELIVERED, label: 'Hoàn thành' },\r\n    { key: ORDER_STATUS.CANCELLED, label: 'Đã hủy' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, [activeTab]);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = activeTab !== 'all' ? { status: activeTab } : {};\r\n      const response = await orderService.getOrders(params);\r\n      \r\n      if (response.success) {\r\n        setOrders(response.data.results || response.data);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Không thể tải danh sách đơn hàng');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOrderAction = async (action, order) => {\r\n    try {\r\n      switch (action) {\r\n        case 'cancel':\r\n          await orderService.cancelOrder(order.id, 'Người dùng hủy');\r\n          toast.success('Đã hủy đơn hàng');\r\n          break;\r\n        case 'confirm_received':\r\n          await orderService.completeOrder(order.id);\r\n          toast.success('Đã xác nhận nhận hàng');\r\n          break;\r\n        case 'review':\r\n          // TODO: Navigate to review page\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      \r\n      fetchOrders(); // Refresh list\r\n    } catch (error) {\r\n      toast.error('Có lỗi xảy ra');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">Đơn hàng của tôi</h1>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"bg-white rounded-lg shadow mb-6\">\r\n        <div className=\"flex border-b\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setActiveTab(tab.key)}\r\n              className={`flex-1 py-4 px-6 text-center font-medium transition-colors ${\r\n                activeTab === tab.key\r\n                  ? 'text-primary border-b-2 border-primary bg-blue-50'\r\n                  : 'text-gray-600 hover:text-gray-800'\r\n              }`}\r\n            >\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Orders */}\r\n      {loading ? (\r\n        <div className=\"space-y-4\">\r\n          {[...Array(3)].map((_, i) => (\r\n            <div key={i} className=\"bg-white rounded-lg shadow p-6 animate-pulse\">\r\n              <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\r\n              <div className=\"h-16 bg-gray-200 rounded mb-4\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-1/3\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : orders.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"text-gray-400 text-lg mb-4\">\r\n            {activeTab === 'all' ? 'Chưa có đơn hàng nào' : `Chưa có đơn hàng ${tabs.find(t => t.key === activeTab)?.label.toLowerCase()}`}\r\n          </div>\r\n          <button\r\n            onClick={() => window.location.href = '/'}\r\n            className=\"btn-primary\"\r\n          >\r\n            Tiếp tục mua sắm\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {orders.map((order) => (\r\n            <OrderCard\r\n              key={order.id}\r\n              order={order}\r\n              onAction={handleOrderAction}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,YAAY,QAAQ,uBAAuB;AACpD,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,UAAA;EACtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMiB,IAAI,GAAG,CACX;IAAEC,GAAG,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAS,CAAC,EAC/B;IAAED,GAAG,EAAEf,YAAY,CAACiB,OAAO;IAAED,KAAK,EAAE;EAAe,CAAC,EACpD;IAAED,GAAG,EAAEf,YAAY,CAACkB,SAAS;IAAEF,KAAK,EAAE;EAAc,CAAC,EACrD;IAAED,GAAG,EAAEf,YAAY,CAACmB,QAAQ;IAAEH,KAAK,EAAE;EAAY,CAAC,EAClD;IAAED,GAAG,EAAEf,YAAY,CAACoB,SAAS;IAAEJ,KAAK,EAAE;EAAa,CAAC,EACpD;IAAED,GAAG,EAAEf,YAAY,CAACqB,SAAS;IAAEL,KAAK,EAAE;EAAS,CAAC,CACjD;EAEDlB,SAAS,CAAC,MAAM;IACdwB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACV,SAAS,CAAC,CAAC;EAEf,MAAMU,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACFX,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMY,MAAM,GAAGX,SAAS,KAAK,KAAK,GAAG;QAAEY,MAAM,EAAEZ;MAAU,CAAC,GAAG,CAAC,CAAC;MAC/D,MAAMa,QAAQ,GAAG,MAAMxB,YAAY,CAACyB,SAAS,CAACH,MAAM,CAAC;MAErD,IAAIE,QAAQ,CAACE,OAAO,EAAE;QACpBlB,SAAS,CAACgB,QAAQ,CAACG,IAAI,CAACC,OAAO,IAAIJ,QAAQ,CAACG,IAAI,CAAC;MACnD;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd5B,KAAK,CAAC4B,KAAK,CAAC,kCAAkC,CAAC;IACjD,CAAC,SAAS;MACRnB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMoB,iBAAiB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,KAAK;IACjD,IAAI;MACF,QAAQD,MAAM;QACZ,KAAK,QAAQ;UACX,MAAM/B,YAAY,CAACiC,WAAW,CAACD,KAAK,CAACE,EAAE,EAAE,gBAAgB,CAAC;UAC1DjC,KAAK,CAACyB,OAAO,CAAC,iBAAiB,CAAC;UAChC;QACF,KAAK,kBAAkB;UACrB,MAAM1B,YAAY,CAACmC,aAAa,CAACH,KAAK,CAACE,EAAE,CAAC;UAC1CjC,KAAK,CAACyB,OAAO,CAAC,uBAAuB,CAAC;UACtC;QACF,KAAK,QAAQ;UACX;UACA;QACF;UACE;MACJ;MAEAL,WAAW,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACd5B,KAAK,CAAC4B,KAAK,CAAC,eAAe,CAAC;IAC9B;EACF,CAAC;EAED,oBACE1B,OAAA;IAAKiC,SAAS,EAAC,6BAA6B;IAAAC,QAAA,gBAC1ClC,OAAA;MAAIiC,SAAS,EAAC,uCAAuC;MAAAC,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAG3EtC,OAAA;MAAKiC,SAAS,EAAC,iCAAiC;MAAAC,QAAA,eAC9ClC,OAAA;QAAKiC,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3BxB,IAAI,CAAC6B,GAAG,CAAEC,GAAG,iBACZxC,OAAA;UAEEyC,OAAO,EAAEA,CAAA,KAAMhC,YAAY,CAAC+B,GAAG,CAAC7B,GAAG,CAAE;UACrCsB,SAAS,EAAE,8DACTzB,SAAS,KAAKgC,GAAG,CAAC7B,GAAG,GACjB,mDAAmD,GACnD,mCAAmC,EACtC;UAAAuB,QAAA,EAEFM,GAAG,CAAC5B;QAAK,GARL4B,GAAG,CAAC7B,GAAG;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASN,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLhC,OAAO,gBACNN,OAAA;MAAKiC,SAAS,EAAC,WAAW;MAAAC,QAAA,EACvB,CAAC,GAAGQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACH,GAAG,CAAC,CAACI,CAAC,EAAEC,CAAC,kBACtB5C,OAAA;QAAaiC,SAAS,EAAC,8CAA8C;QAAAC,QAAA,gBACnElC,OAAA;UAAKiC,SAAS,EAAC;QAAoC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1DtC,OAAA;UAAKiC,SAAS,EAAC;QAA+B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACrDtC,OAAA;UAAKiC,SAAS,EAAC;QAA+B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GAH7CM,CAAC;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIN,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,GACJlC,MAAM,CAACyC,MAAM,KAAK,CAAC,gBACrB7C,OAAA;MAAKiC,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChClC,OAAA;QAAKiC,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EACxC1B,SAAS,KAAK,KAAK,GAAG,sBAAsB,GAAG,qBAAAL,UAAA,GAAoBO,IAAI,CAACoC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACpC,GAAG,KAAKH,SAAS,CAAC,cAAAL,UAAA,uBAAnCA,UAAA,CAAqCS,KAAK,CAACoC,WAAW,CAAC,CAAC;MAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3H,CAAC,eACNtC,OAAA;QACEyC,OAAO,EAAEA,CAAA,KAAMQ,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAI;QAC1ClB,SAAS,EAAC,aAAa;QAAAC,QAAA,EACxB;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,gBAENtC,OAAA;MAAAkC,QAAA,EACG9B,MAAM,CAACmC,GAAG,CAAEV,KAAK,iBAChB7B,OAAA,CAACL,SAAS;QAERkC,KAAK,EAAEA,KAAM;QACbuB,QAAQ,EAAEzB;MAAkB,GAFvBE,KAAK,CAACE,EAAE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGd,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACpC,EAAA,CArHID,SAAS;AAAAoD,EAAA,GAATpD,SAAS;AAuHf,eAAeA,SAAS;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}