{"ast":null,"code":"import React from'react';import{Navigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requiredUserType=null}=_ref;const location=useLocation();const isAuthenticated=!!localStorage.getItem('access_token');const userType=localStorage.getItem('user_type');if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});}if(requiredUserType&&userType!==requiredUserType){return/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",replace:true});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useLocation","jsx","_jsx","ProtectedRoute","_ref","children","requiredUserType","location","isAuthenticated","localStorage","getItem","userType","to","state","from","replace"],"sources":["D:/BaitapUIT/Mat_Ma_Hoc/new_final_project_clone/quantum-e-commerce/FE/src/components/Auth/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ children, requiredUserType = null }) => {\r\n  const location = useLocation();\r\n  const isAuthenticated = !!localStorage.getItem('access_token');\r\n  const userType = localStorage.getItem('user_type');\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (requiredUserType && userType !== requiredUserType) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,QAAQ,CAAEC,gBAAgB,CAAG,IAAK,CAAC,CAAAF,IAAA,CAC3D,KAAM,CAAAG,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAQ,eAAe,CAAG,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAC9D,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAElD,GAAI,CAACF,eAAe,CAAE,CACpB,mBAAON,IAAA,CAACH,QAAQ,EAACa,EAAE,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEP,QAAS,CAAE,CAACQ,OAAO,MAAE,CAAC,CACpE,CAEA,GAAIT,gBAAgB,EAAIK,QAAQ,GAAKL,gBAAgB,CAAE,CACrD,mBAAOJ,IAAA,CAACH,QAAQ,EAACa,EAAE,CAAC,eAAe,CAACG,OAAO,MAAE,CAAC,CAChD,CAEA,MAAO,CAAAV,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}